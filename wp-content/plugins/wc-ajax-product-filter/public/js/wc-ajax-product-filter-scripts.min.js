"use strict";function ownKeys(a,t){var e,r=Object.keys(a);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(a),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),r.push.apply(r,e)),r}function _objectSpread(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(a,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))})}return a}function _defineProperty(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function _createForOfIteratorHelper(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=_unsupportedIterableToArray(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,i=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){i=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(i)throw n}}}}function _unsupportedIterableToArray(t,a){if(t){if("string"==typeof t)return _arrayLikeToArray(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,a):void 0}}function _arrayLikeToArray(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,r=new Array(a);e<a;e++)r[e]=t[e];return r}var wcapf_params=wcapf_params||{is_rtl:"",filter_input_delay:"",keyword_filter_delay:"",combobox_display_selected_options:"",combobox_no_results_text:"",combobox_options_none_text:"",search_box_in_default_orderby:"",preserve_hierarchy_accordion_state:"",preserve_soft_limit_state:"",enable_animation_for_filter_accordion:"",filter_accordion_animation_speed:"",filter_accordion_animation_easing:"",enable_animation_for_hierarchy_accordion:"",hierarchy_accordion_animation_speed:"",hierarchy_accordion_animation_easing:"",scroll_to_top_speed:"",scroll_to_top_easing:"",is_mobile:"",reload_on_back:"",found_wcapf:"",wcapf_pro:"",update_document_title:"",use_tippyjs:"",shop_loop_container:"",not_found_container:"",pagination_container:"",orderby_form:"",orderby_element:"",disable_ajax:"",enable_pagination_via_ajax:"",sorting_control:"",attach_combobox_on_sorting:"",loading_animation:"",scroll_window:"",scroll_window_for:"",scroll_window_when:"",scroll_window_custom_element:"",scroll_on:"",scroll_to_top_offset:"",disable_scroll_animation:"",more_selectors:"",custom_scripts:""};function numberFormat(t,a,e,r){t=(t+"").replace(/[^\d+\-Ee.]/g,"");var t=isFinite(+t)?+t:0,a=isFinite(+a)?Math.abs(a):0,r=void 0===r?",":r,e=void 0===e?".":e,t=(a?function(t,a){a=Math.pow(10,a);return""+Math.round(t*a)/a}(t,a):""+Math.round(t)).split(".");return 3<t[0].length&&(t[0]=t[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(t[1]||"").length<a&&(t[1]=t[1]||"",t[1]+=new Array(a-t[1].length+1).join("0")),t.join(e)}function cleanUrl(t){return t.replace(/%2C/g,",")}function getOrderByUrl(t){return cleanUrl(t=parseInt(t.replace(/.+\/page\/(\d+)+/,"$1"))?t.replace(/page\/(\d+)\//,""):t)}!function($,window){var _delay=parseInt(wcapf_params.filter_input_delay),delay=0<=_delay?_delay:300,_keywordFilterDelay=parseInt(wcapf_params.keyword_filter_delay),keywordFilterDelay=0<=_keywordFilterDelay?_keywordFilterDelay:100,isPro=wcapf_params.wcapf_pro,$body=$("body"),$document=$(document),instanceIds=[],defaultOrderByElement=wcapf_params.orderby_form+" "+wcapf_params.orderby_element;$(".wcapf-filter").each(function(){var t=$(this).data("id");t&&instanceIds.push(t)}),window.tippyInstances=[],window.WCAPF=window.WCAPF||{},window.WCAPF={handleFilterAccordion:function(){function a(t){var a="true"===t.attr("aria-expanded");t.attr("aria-expanded",!a),t=t.closest(".wcapf-filter").children(".wcapf-filter-inner"),wcapf_params.enable_animation_for_filter_accordion?t.slideToggle(wcapf_params.filter_accordion_animation_speed,wcapf_params.filter_accordion_animation_easing):t.toggle()}$body.on("click",".wcapf-filter-accordion-trigger",function(t){t.stopPropagation(),a($(this))}),$body.on("click",".wcapf-filter-title.has-accordion",function(){var t=$(this).find(".wcapf-filter-accordion-trigger");a(t)})},handleHierarchyToggle:function(){function a(t){var a="true"===t.attr("aria-pressed");t.attr("aria-pressed",!a),t=t.closest("li").children("ul"),wcapf_params.enable_animation_for_hierarchy_accordion?t.slideToggle(wcapf_params.hierarchy_accordion_animation_speed,wcapf_params.hierarchy_accordion_animation_easing):t.toggle()}$body.on("click",".wcapf-hierarchy-accordion-toggle",function(){a($(this))}).on("keydown",".wcapf-hierarchy-accordion-toggle",function(t){" "!==t.key&&"Enter"!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),a($(this)))})},handleSoftLimit:function(){function a(t){var a="true"===t.attr("aria-pressed");t.attr("aria-pressed",!a),t=t.closest(".wcapf-list-wrapper"),a?t.removeClass("show-hidden-options"):t.addClass("show-hidden-options")}$body.on("click",".wcapf-soft-limit-trigger",function(){a($(this))}).on("keydown",".wcapf-soft-limit-trigger",function(t){" "!==t.key&&"Enter"!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),a($(this)))})},handleSearchFilterOptions:function(){$body.on("input",'.wcapf-search-box input[type="text"]',function(){var t=$(this),a=t.closest(".wcapf-filter-inner"),e=a.closest(".wcapf-filter"),r=e.hasClass("has-soft-limit"),n=e.find(".wcapf-soft-limit-wrapper"),o=e.find(".wcapf-no-results-text"),i=parseInt(e.attr("data-visible-options")),c=t.val();if(!c.length){var s=0;return e.removeClass("search-active"),$.each(a.find(".wcapf-filter-options > li"),function(){s++;var t=$(this);t.removeClass("keyword-matched"),r&&(i<s?t.addClass("wcapf-filter-option-hidden"):t.removeClass("wcapf-filter-option-hidden"))}),r&&n.removeAttr("style"),o.children("span").text(""),void o.hide()}var l=0;e.addClass("search-active"),$.each(a.find(".wcapf-filter-options > li"),function(){var t=$(this);t.find(".wcapf-filter-item-label").data("label").toString().toLowerCase().includes(c.toLowerCase())?(l++,t.addClass("keyword-matched"),r&&(i<l?t.addClass("wcapf-filter-option-hidden"):t.removeClass("wcapf-filter-option-hidden"))):t.removeClass("keyword-matched")}),r&&(l<=i?n.hide():n.show()),0===l?(o.children("span").text(c),o.show()):(o.children("span").text(""),o.hide())}),$body.on("click",".wcapf-search-box .wcapf-clear-state",function(){var t=$(this).closest(".wcapf-search-box"),a=t.find('input[type="text"]'),t=t.closest(".wcapf-filter");a.val(""),t.hasClass("wcapf-filter-keyword")?a.trigger("change"):a.trigger("input")}),$body.on("change",'.wcapf-filter-keyword input[type="text"]',function(){var t=$(this),a=t.closest(".wcapf-keyword-filter-wrapper"),e=t.val();clearTimeout(t.data("timer"));var r=a.data("filter-url"),a=a.data("clear-filter-url"),n=e.length?r.replace("%s",e):a;t.data("timer",setTimeout(function(){WCAPF.requestFilter(n)},keywordFilterDelay))})},updateProductsCountResult:function(t){var a=$(wcapf_params.shop_loop_container),e=".woocommerce-result-count",r=t.find(e).html();$body.find(e).each(function(){var t=$(this);a.has(t).length||t.html(r)})},scrollTo:function(){var t,a,e;"none"!==wcapf_params.scroll_window&&(a=wcapf_params.scroll_window_for,t=wcapf_params.is_mobile,("mobile"===a&&t||"desktop"===a&&!t||"both"===a)&&(a=t=0,wcapf_params.scroll_to_top_offset&&(t=parseInt(wcapf_params.scroll_to_top_offset)),$(wcapf_params.shop_loop_container).length?e=wcapf_params.shop_loop_container:$(wcapf_params.not_found_container).length&&(e=wcapf_params.not_found_container),"custom"===wcapf_params.scroll_window&&(e=wcapf_params.scroll_window_custom_element),(e=$(e)).length&&((a=e.offset().top-t)<0&&(a=0),$("html, body").stop().animate({scrollTop:a},wcapf_params.scroll_to_top_speed,wcapf_params.scroll_to_top_easing))))},beforeFetchingProducts:function(t){$body.find(".wcapf-loader").addClass("is-active"),isPro||"immediately"!==wcapf_params.scroll_window_when||WCAPF.scrollTo(),$document.trigger("wcapf_before_fetching_products",[t])},destroyTippyInstances:function(){wcapf_params.use_tippyjs&&(tippyInstances.forEach(function(t){t.destroy()}),tippyInstances.length=0)},beforeUpdatingProducts:function(t,a){$body.find(".wcapf-loader").removeClass("is-active"),WCAPF.destroyTippyInstances(),$document.trigger("wcapf_before_updating_products",[t,a])},afterUpdatingProducts:function afterUpdatingProducts($response,triggeredBy){WCAPF.updateProductsCountResult($response),WCAPF.init(),isPro||"after"!==wcapf_params.scroll_window_when||WCAPF.scrollTo(),$(document).trigger("ready"),$(window).trigger("scroll"),$(window).trigger("resize"),$(window).trigger("lazyshow"),wcapf_params.custom_scripts&&eval(wcapf_params.custom_scripts),$document.trigger("wcapf_after_updating_products",[$response,triggeredBy])},filterProducts:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"filter";WCAPF.beforeFetchingProducts(r),$.ajax({url:window.location.href,success:function(t){var n=$(t);WCAPF.beforeUpdatingProducts(n,r),wcapf_params.update_document_title&&(document.title=n.filter("title").text());var o,a=_createForOfIteratorHelper(instanceIds);try{for(a.s();!(o=a.n()).done;)!function(){var t='[data-id="'+o.value+'"]',a=$(t),e=a.find(".wcapf-filter-inner"),r=n.find(t);wcapf_params.preserve_hierarchy_accordion_state&&a.hasClass("has-hierarchy-accordion")&&a.find(".wcapf-hierarchy-accordion-toggle").each(function(){var t=$(this),a=t.data("id"),a='.wcapf-hierarchy-accordion-toggle[data-id="'.concat(a,'"]');"true"===t.attr("aria-pressed")?(r.find(a).attr("aria-pressed","true"),r.find(a).closest("li").children("ul").show()):(r.find(a).attr("aria-pressed","false"),r.find(a).closest("li").children("ul").hide())}),wcapf_params.preserve_soft_limit_state&&a.hasClass("has-soft-limit")&&(a.find(".wcapf-list-wrapper").hasClass("show-hidden-options")?(r.find(".wcapf-list-wrapper").addClass("show-hidden-options"),r.find(".wcapf-soft-limit-trigger").attr("aria-pressed","true")):(r.find(".wcapf-list-wrapper").removeClass("show-hidden-options"),r.find(".wcapf-soft-limit-trigger").attr("aria-pressed","false")));t=r.find(".wcapf-filter-inner").html();e.html(t),a.trigger("wcapf-filter-updated",[r])}()}catch(t){a.e(t)}finally{a.f()}$body.find(".wcapf-active-filters, .wcapf-reset-filters").each(function(){var t=$(this),a='[data-id="'+t.data("id")+'"]';t.html(n.find(a).html())});var e=n.find(wcapf_params.shop_loop_container),t=n.find(wcapf_params.not_found_container);wcapf_params.shop_loop_container===wcapf_params.not_found_container?$(wcapf_params.shop_loop_container).html(e.html()):$(wcapf_params.not_found_container).length?e.length?$(wcapf_params.not_found_container).html(e.html()):t.length&&$(wcapf_params.not_found_container).html(t.html()):$(wcapf_params.shop_loop_container).length&&(e.length?$(wcapf_params.shop_loop_container).html(e.html()):t.length&&$(wcapf_params.shop_loop_container).html(t.html())),WCAPF.afterUpdatingProducts(n,r)}})},requestFilter:function(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"filter";t&&(wcapf_params.disable_ajax?window.location.href=t:(history.pushState({wcapf:!0},"",t),WCAPF.filterProducts(a)))},handleNumberInputFilters:function(){$body.on("input",".wcapf-range-number .min-value, .wcapf-range-number .max-value",function(){var e=$(this),r=e.closest(".wcapf-range-number"),a=r.attr("data-format-numbers"),n=parseFloat(r.attr("data-range-min-value")),o=parseFloat(r.attr("data-range-max-value")),i=parseFloat(r.attr("data-min-value")),c=parseFloat(r.attr("data-max-value")),s=r.attr("data-decimal-places"),l=r.attr("data-thousand-separator"),p=r.attr("data-decimal-separator");clearTimeout(e.data("timer"));function d(t){return a?numberFormat(t,s,p,l):t}e.data("timer",setTimeout(function(){e.removeData("timer");var t=parseFloat(r.find(".min-value").val()),a=parseFloat(r.find(".max-value").val());isNaN(t)&&(t=n),r.find(".min-value").val(d(t)),isNaN(a)&&(a=o),r.find(".max-value").val(d(a)),t<n&&(t=n,r.find(".min-value").val(d(t))),o<t&&(t=o,r.find(".min-value").val(d(t))),o<a&&(a=o,r.find(".max-value").val(d(a))),a<t&&(a=t,r.find(".max-value").val(d(a))),t===i&&a===c||(t===n&&a===o?WCAPF.requestFilter(r.data("clear-filter-url")):(a=r.data("url").replace("%1s",t).replace("%2s",a),WCAPF.requestFilter(a)))},delay))})},handleDateInputFilters:function(){$body.on("change",".wcapf-date-input .date-input",function(){var t,a=$(this).closest(".wcapf-date-input"),e=a.data("is-range"),r="";clearTimeout(a.data("timer")),e?(e=a.find(".date-from-input").val(),t=a.find(".date-to-input").val(),e&&t?r=a.data("url").replace("%1s",e).replace("%2s",t):e||t||(r=a.data("clear-filter-url"))):(t=a.find(".date-from-input").val(),r=t?a.data("url").replace("%s",t):a.data("clear-filter-url")),r&&a.data("timer",setTimeout(function(){a.removeData("timer"),WCAPF.requestFilter(r)},delay))})},handleListFilters:function(){$body.on("change",'.list-type-native [type="checkbox"],.list-type-native [type="radio"],.list-type-custom-checkbox [type="checkbox"]',function(){$(this).closest(".wcapf-filter-item").toggleClass("item-active"),WCAPF.requestFilter($(this).data("url"))});var t=".list-type-custom-radio";$body.on("change",t+' [type="checkbox"]',function(){$(this).closest(".wcapf-filter-item").toggleClass("item-active"),$(this).closest(t).find('.wcapf-filter-item.item-active [type="checkbox"]').not(this).prop("checked",!1).closest(".wcapf-filter-item").removeClass("item-active"),WCAPF.requestFilter($(this).data("url"))})},handleDropdownFilters:function(){$body.on("change",".wcapf-dropdown-wrapper select",function(){var t=$(this),a=t.val(),e=t.data("url"),t=t.data("clear-filter-url"),t=a.length?e.replace("%s",a.toString()):t;WCAPF.requestFilter(t)})},handlePagination:function(){var t,a,e;wcapf_params.enable_pagination_via_ajax&&wcapf_params.pagination_container&&(t=$(wcapf_params.shop_loop_container),e=wcapf_params.pagination_container.split(","),a=[],e.forEach(function(t){t&&a.push(t+" a")}),e=a.join(","),t.length&&t.on("click",e,function(t){t.preventDefault();t=$(this).attr("href");WCAPF.requestFilter(t,"paginate")}))},handleDefaultOrderby:function(){wcapf_params.sorting_control?($body.on("submit",wcapf_params.orderby_form,function(){return!1}),$body.on("change",defaultOrderByElement,function(){var t=$(this).val(),a=new URL(window.location);return a.searchParams.set("orderby",t),WCAPF.requestFilter(getOrderByUrl(a.href)),!1})):$body.on("change",defaultOrderByElement,function(){$(this).closest("form").trigger("submit")})},handleClearFilter:function(){$body.on("click",".wcapf-filter-clear-btn",function(t){t.stopPropagation(),WCAPF.requestFilter($(this).attr("data-clear-filter-url"))})},handleFilterTooltip:function(){"function"==typeof tippy&&wcapf_params.use_tippyjs&&tippy(".wcapf-filter-tooltip",{placement:"top",content:function(t){return t.getAttribute("data-content")},allowHTML:!0})},initCombobox:function(){var e,r,n,t,a;jQuery().chosenWCAPF&&(e=function(t,a){return["<span>"+t+"</span>",'<span class="wcapf-count">'+a.countMarkup+"</span>"].join("")},r=function(t,a){return['<span class="wcapf-count-'+a.count+'">'+t+"</span>",'<span class="wcapf-count wcapf-count-'+a.count+'">'+a.countMarkup+"</span>"].join("")},n={inherit_select_classes:!0,inherit_option_classes:!0,no_results_text:wcapf_params.combobox_no_results_text,options_none_text:wcapf_params.combobox_options_none_text,search_contains:!0,search_in_values:!0},wcapf_params.is_rtl&&(n.rtl=!0),$body.find(".wcapf-chosen").each(function(){var t=$(this),a=_objectSpread({},n);t.hasClass("has-hierarchy")?a.display_selected_options=!0:a.display_selected_options=wcapf_params.combobox_display_selected_options,t.hasClass("with-count")&&(a.templateResult=e,a.templateSelection=r),t.data("enable-search")||(a.disable_search=!0),t.chosenWCAPF(a)}),wcapf_params.attach_combobox_on_sorting&&(t=!0,wcapf_params.search_box_in_default_orderby&&(t=!1),(a=_objectSpread({},n)).disable_search=t,$body.find(defaultOrderByElement).chosenWCAPF(a)))},initRangeSlider:function(){"undefined"!=typeof noUiSlider&&$body.find(".wcapf-range-slider").each(function(){var e=$(this),t=e.find(".wcapf-noui-slider").attr("id"),r=e.attr("data-display-values-as"),n=e.attr("data-format-numbers"),o=parseFloat(e.attr("data-range-min-value")),i=parseFloat(e.attr("data-range-max-value")),a=parseFloat(e.attr("data-step")),c=e.attr("data-decimal-places"),s=e.attr("data-thousand-separator"),l=e.attr("data-decimal-separator"),p=parseFloat(e.attr("data-min-value")),d=parseFloat(e.attr("data-max-value")),f=e.find(".min-value"),u=e.find(".max-value"),_=document.getElementById(t);function m(t){var a=parseFloat(t[0]),t=parseFloat(t[1]);a===p&&t===d||(a===o&&t===i?WCAPF.requestFilter(e.data("clear-filter-url")):(t=e.data("url").replace("%1s",a).replace("%2s",t),WCAPF.requestFilter(t)))}noUiSlider.create(_,{start:[p,d],step:a,connect:!0,cssPrefix:"wcapf-noui-",range:{min:o,max:i}}),_.noUiSlider.on("update",function(t){var a,t=n?(a=numberFormat(t[0],c,l,s),numberFormat(t[1],c,l,s)):(a=parseFloat(t[0]),parseFloat(t[1]));"plain_text"===r?(f.html(a),u.html(t)):(f.val(a),u.val(t))}),_.noUiSlider.on("change",function(t){clearTimeout(e.data("timer")),e.data("timer",setTimeout(function(){e.removeData("timer"),m(t)},delay))}),f.on("input",function(){var a=$(this);clearTimeout(a.data("timer")),a.data("timer",setTimeout(function(){a.removeData("timer");var t=a.val();_.noUiSlider.set([t,null]),m(_.noUiSlider.get())},delay))}),u.on("input",function(){var a=$(this);clearTimeout(a.data("timer")),a.data("timer",setTimeout(function(){a.removeData("timer");var t=a.val();_.noUiSlider.set([null,t]),m(_.noUiSlider.get())},delay))})})},initDatepicker:function(){var t,a,e,r,n;jQuery().datepicker&&(t=(n=$body.find(".wcapf-date-input")).attr("data-date-format"),a=n.attr("data-date-picker-year-dropdown"),e=n.attr("data-date-picker-month-dropdown"),r=n.find(".date-from-input"),n=n.find(".date-to-input"),r.datepicker({dateFormat:t,changeYear:a,changeMonth:e}),n.datepicker({dateFormat:t,changeYear:a,changeMonth:e}))},initFilterOptionTooltip:function(){"function"==typeof tippy&&wcapf_params.use_tippyjs&&["top","right","bottom","left"].forEach(function(t){var a="data-wcapf-tooltip-"+t,t=tippy("["+a+"]",{placement:t,content:function(t){return t.getAttribute(a)},allowHTML:!0});window.tippyInstances=tippyInstances.concat(t)})},init:function(){WCAPF.initCombobox(),WCAPF.initRangeSlider(),WCAPF.initDatepicker(),WCAPF.initFilterOptionTooltip()},initPopState:function(){wcapf_params.reload_on_back&&wcapf_params.found_wcapf&&(history.replaceState({wcapf:!0},"",window.location),window.addEventListener("popstate",function(t){null!==t.state&&t.state.hasOwnProperty("wcapf")&&WCAPF.filterProducts("popstate")}))}},0 in history}(jQuery,window),function(t,a){a.init(),a.initPopState(),a.handleFilterAccordion(),a.handleHierarchyToggle(),a.handleSoftLimit(),a.handleSearchFilterOptions(),a.handleListFilters(),a.handleDropdownFilters(),a.handleNumberInputFilters(),a.handleDateInputFilters(),a.handlePagination(),a.handleDefaultOrderby(),a.handleClearFilter(),a.handleFilterTooltip(),t(document).on("wcapf_after_updating_products",function(){t(document).trigger("woo_variation_swatches_pro_init")})}(jQuery,window.WCAPF);